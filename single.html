<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Document</title>
</head>
<body>
    
    <header>
        <h1 id="title">Character Card</h1>
        <div>
            <form action="register.html">
                <input type="submit" value="Register">
            </form>
            <form action="login.html">
                <input type="submit" value="Login">
            </form>
        </div>
    </header>
    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-header">
            <span class="close">&times;</span>
            <h2>Trading Interface</h2>
            </div>
            <div class="modal-body">
            <p>Choose some card to trade</p>
            <p>Choose some user to trade with</p>
            </div>
            <div class="modal-footer">
            <h3>Footer</h3>
            </div>
        </div>
    </div>
    <nav id="nav">
        <div class="burger-menu">
            <div class="burger-icon" id="burgericon">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
            <ul class="menu" id="menu">
                <a href="index.html" id="home">Home</a>
                <a href="mycards.html" id="mycards">My Cards</a>
                <a href="collection.html" id="archive">Card Archive</a>
            </ul>
        </div>
    </nav>


    <main>
        <div id="character"></div>
    </main>

    <footer>
        &copy; 2024 Slapilou Harry Potter Card Website
    </footer>

    <button class="floating-button" id="floating-button">
        Trading
    </button>

    <script>
        function fetchCharacter(){
            let url = window.location.search
            let slug = new URLSearchParams(url).get('slug')
           return fetch('https://hp-api.lainocs.fr/characters/' + slug)
           .then((response)=>response.json())
        }
        async function displayCharacter() {
            const data = await fetchCharacter();
            if(!data.wand){
              data.wand = "Nothing"
            }
            if(!data.house){
              data.house = "Nothing"
            }
            if(!data.patronus){
              data.patronus = "Nothing"
            }
            document.querySelector('#character').innerHTML =`
                <h1>${data.name}</h1>
                <div class="normalimgcontainer">
                    <a>
                        <img class ="normalimg" src="${data.image}"></img>
                    </a>
                </div>
                <h2 class="single">House: ${data.house}</h2>
                <h2 class="single">Actor: ${data.actor}</h2>
                <h2 class="single">Blood: ${data.blood}</h2>
                <h2 class="single">Patronus: ${data.patronus}</h2>
                <h2 class="single">Role: ${data.role}</h2>
                <h2 class="single">Wand: ${data.wand}</h2>


                <a class="back hide" href="collection.html">Back</a>
            `
            console.log(data);
        }
        displayCharacter()
        const burgerIcon =document.getElementById("burgericon");
        const menu = document.getElementById('menu');

        burgerIcon.addEventListener('click', function() {
        burgerIcon.classList.toggle('menuout');
        menu.classList.toggle('active');
        document.getElementById("home").classList.toggle('hide');
        document.getElementById("mycards").classList.toggle('hide');
        document.getElementById("archive").classList.toggle('hide');
        })
    </script>
</body>
</html>